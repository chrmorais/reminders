language: android

sudo: false

jdk: openjdk7

env:
        matrix:
                - ANDROID_TARGET=android-22  ANDROID_ABI=armeabi-v7a
                - ANDROID_TARGET=android-23  ANDROID_ABI=armeabi-v7a

android:
        components:
                - tools
                - build-tools-23.0.2
                - android-23
                - extra

# Emulator Management: Create, Start and Wait
before_script:
        - echo no | android create avd --force -n test -t android-21 --abi armeabi-v7a
        - emulator -avd test -no-skin -no-audio -no-window &
        - android-wait-for-emulator
        - adb shell input keyevent 82 &

script:
        - android list target
        - ./gradlew build connectedCheck

after-success:
        - echo "Travis branch is $TRAVIS_BRANCH"
        - echo "Travis branch is in pull request $TRAVIS_PULL+REQUEST"

notifications:
        email: false
